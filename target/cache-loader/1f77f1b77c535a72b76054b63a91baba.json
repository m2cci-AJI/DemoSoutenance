{"remainingRequest":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\angular-router-loader\\src\\index.js!C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\tslint-loader\\index.js!C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\src\\main\\webapp\\app\\admin\\entity-audit\\entity-audit.component.ts","dependencies":[{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\src\\main\\webapp\\app\\admin\\entity-audit\\entity-audit.component.ts","mtime":1566402769203},{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\ts-loader\\index.js","mtime":1545640398000},{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\tslint-loader\\index.js","mtime":1519899048000}],"contextDependencies":[],"result":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar core_1 = require(\"@angular/core\");\r\nvar ng_bootstrap_1 = require(\"@ng-bootstrap/ng-bootstrap\");\r\nvar ng_jhipster_1 = require(\"ng-jhipster\");\r\nvar entity_audit_service_1 = require(\"./entity-audit.service\");\r\nvar entity_audit_modal_component_1 = require(\"./entity-audit-modal.component\");\r\nvar EntityAuditComponent = /** @class */ (function () {\r\n    function EntityAuditComponent(modalService, service, alertService) {\r\n        this.modalService = modalService;\r\n        this.service = service;\r\n        this.alertService = alertService;\r\n        this.entities = [];\r\n        this.limits = [25, 50, 100, 200];\r\n        this.selectedLimit = this.limits[0];\r\n        this.loading = false;\r\n        this.filterEntityId = '';\r\n        this.reverse = false;\r\n    }\r\n    EntityAuditComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.service.getAllAudited().subscribe(function (entities) {\r\n            _this.entities = entities;\r\n        });\r\n    };\r\n    EntityAuditComponent.prototype.loadChanges = function () {\r\n        var _this = this;\r\n        this.loading = true;\r\n        this.service.findByEntity(this.selectedEntity, this.selectedLimit).subscribe(function (res) {\r\n            var data = res.body;\r\n            _this.audits = data.map(function (it) {\r\n                it.entityValue = JSON.parse(it.entityValue);\r\n                return it;\r\n            });\r\n            _this.loading = false;\r\n        }, function (err) { return (_this.loading = false); });\r\n    };\r\n    EntityAuditComponent.prototype.trackId = function (index, item) {\r\n        return item.id;\r\n    };\r\n    EntityAuditComponent.prototype.openChange = function (audit) {\r\n        if (audit.commitVersion < 2) {\r\n            this.alertService.warning('entityAudit.result.firstAuditEntry');\r\n        }\r\n        else {\r\n            var modalRef = this.modalService.open(entity_audit_modal_component_1.EntityAuditModalComponent);\r\n            modalRef.componentInstance.openChange(audit);\r\n        }\r\n    };\r\n    var _a, _b, _c;\r\n    EntityAuditComponent = tslib_1.__decorate([\r\n        core_1.Component({\r\n            selector: 'jhi-entity-audit',\r\n            templateUrl: './entity-audit.component.html',\r\n            styles: [\r\n                \"\\n            .code {\\n                background: #dcdada;\\n                padding: 10px;\\n            }\\n        \"\r\n            ]\r\n        }),\r\n        tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof ng_bootstrap_1.NgbModal !== \"undefined\" && ng_bootstrap_1.NgbModal) === \"function\" ? _a : Object, typeof (_b = typeof entity_audit_service_1.EntityAuditService !== \"undefined\" && entity_audit_service_1.EntityAuditService) === \"function\" ? _b : Object, typeof (_c = typeof ng_jhipster_1.JhiAlertService !== \"undefined\" && ng_jhipster_1.JhiAlertService) === \"function\" ? _c : Object])\r\n    ], EntityAuditComponent);\r\n    return EntityAuditComponent;\r\n}());\r\nexports.EntityAuditComponent = EntityAuditComponent;\r\n",{"version":3,"file":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\src\\main\\webapp\\app\\admin\\entity-audit\\entity-audit.component.ts","sourceRoot":"","sources":["C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\angular-router-loader\\src\\index.js!C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\tslint-loader\\index.js!C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\src\\main\\webapp\\app\\admin\\entity-audit\\entity-audit.component.ts"],"names":[],"mappings":";;;AAAA,sCAAkD;AAClD,2DAAsD;AACtD,2CAA8C;AAE9C,+DAA4D;AAE5D,+EAA2E;AAc3E;IAWI,8BAAoB,YAAsB,EAAU,OAA2B,EAAU,YAA6B;QAAlG,iBAAY,GAAZ,YAAY,CAAU;QAAU,YAAO,GAAP,OAAO,CAAoB;QAAU,iBAAY,GAAZ,YAAY,CAAiB;QATtH,aAAQ,GAAa,EAAE,CAAC;QAExB,WAAM,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QAC5B,kBAAa,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC/B,YAAO,GAAG,KAAK,CAAC;QAChB,mBAAc,GAAG,EAAE,CAAC;QAEpB,YAAO,GAAG,KAAK,CAAC;IAEyG,CAAC;IAE1H,uCAAQ,GAAR;QAAA,iBAIC;QAHG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,SAAS,CAAC,UAAA,QAAQ;YAC3C,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC7B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,0CAAW,GAAX;QAAA,iBAaC;QAZG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,SAAS,CACxE,UAAA,GAAG;YACC,IAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;YACtB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,UAAC,EAAoB;gBACxC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;gBAC5C,OAAO,EAAE,CAAC;YACd,CAAC,CAAC,CAAC;YACH,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC,EACD,UAAA,GAAG,IAAI,OAAA,CAAC,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC,EAAtB,CAAsB,CAChC,CAAC;IACN,CAAC;IAED,sCAAO,GAAP,UAAQ,KAAa,EAAE,IAAsB;QACzC,OAAO,IAAI,CAAC,EAAE,CAAC;IACnB,CAAC;IAED,yCAAU,GAAV,UAAW,KAAuB;QAC9B,IAAI,KAAK,CAAC,aAAa,GAAG,CAAC,EAAE;YACzB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,oCAAoC,CAAC,CAAC;SACnE;aAAM;YACH,IAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,wDAAyB,CAAC,CAAC;YACnE,QAAQ,CAAC,iBAAiB,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;SAChD;IACL,CAAC;;IA7CQ,oBAAoB;QAZhC,gBAAS,CAAC;YACP,QAAQ,EAAE,kBAAkB;YAC5B,WAAW,EAAE,+BAA+B;YAC5C,MAAM,EAAE;gBACJ,sHAKC;aACJ;SACJ,CAAC;qEAYoC,uBAAQ,oBAAR,uBAAQ,oDAAmB,yCAAkB,oBAAlB,yCAAkB,oDAAwB,6BAAe,oBAAf,6BAAe;OAX7G,oBAAoB,CA8ChC;IAAD,2BAAC;CAAA,AA9CD,IA8CC;AA9CY,oDAAoB","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { JhiAlertService } from 'ng-jhipster';\r\n\r\nimport { EntityAuditService } from './entity-audit.service';\r\nimport { EntityAuditEvent } from './entity-audit-event.model';\r\nimport { EntityAuditModalComponent } from './entity-audit-modal.component';\r\n\r\n@Component({\r\n    selector: 'jhi-entity-audit',\r\n    templateUrl: './entity-audit.component.html',\r\n    styles: [\r\n        `\r\n            .code {\r\n                background: #dcdada;\r\n                padding: 10px;\r\n            }\r\n        `\r\n    ]\r\n})\r\nexport class EntityAuditComponent implements OnInit {\r\n    audits: EntityAuditEvent[];\r\n    entities: string[] = [];\r\n    selectedEntity: string;\r\n    limits = [25, 50, 100, 200];\r\n    selectedLimit = this.limits[0];\r\n    loading = false;\r\n    filterEntityId = '';\r\n    orderProp: string;\r\n    reverse = false;\r\n\r\n    constructor(private modalService: NgbModal, private service: EntityAuditService, private alertService: JhiAlertService) {}\r\n\r\n    ngOnInit() {\r\n        this.service.getAllAudited().subscribe(entities => {\r\n            this.entities = entities;\r\n        });\r\n    }\r\n\r\n    loadChanges() {\r\n        this.loading = true;\r\n        this.service.findByEntity(this.selectedEntity, this.selectedLimit).subscribe(\r\n            res => {\r\n                const data = res.body;\r\n                this.audits = data.map((it: EntityAuditEvent) => {\r\n                    it.entityValue = JSON.parse(it.entityValue);\r\n                    return it;\r\n                });\r\n                this.loading = false;\r\n            },\r\n            err => (this.loading = false)\r\n        );\r\n    }\r\n\r\n    trackId(index: number, item: EntityAuditEvent) {\r\n        return item.id;\r\n    }\r\n\r\n    openChange(audit: EntityAuditEvent) {\r\n        if (audit.commitVersion < 2) {\r\n            this.alertService.warning('entityAudit.result.firstAuditEntry');\r\n        } else {\r\n            const modalRef = this.modalService.open(EntityAuditModalComponent);\r\n            modalRef.componentInstance.openChange(audit);\r\n        }\r\n    }\r\n}\r\n"]}]}