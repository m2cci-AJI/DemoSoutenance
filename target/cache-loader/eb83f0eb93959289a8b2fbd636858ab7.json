{"remainingRequest":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\ts-loader\\index.js??ref--9-3!C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\angular-router-loader\\src\\index.js!C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\tslint-loader\\index.js!C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\src\\main\\webapp\\app\\entities\\vue-collaborators\\vue-3.component.ts","dependencies":[{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\src\\main\\webapp\\app\\entities\\vue-collaborators\\vue-3.component.ts","mtime":1567174898960},{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\ts-loader\\index.js","mtime":1545640398000},{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\tslint-loader\\index.js","mtime":1519899048000}],"contextDependencies":[],"result":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar core_1 = require(\"@angular/core\");\r\nvar timeline_1 = require(\"./components/timeline\");\r\nvar _swal = require(\"sweetalert\");\r\nvar vue_3_Tools_service_1 = require(\"./vue-3.Tools.service\");\r\nvar swal = _swal;\r\nvar _1 = require(\".\");\r\nvar affectations_service_1 = require(\"../../affectations/affectations.service\");\r\nvar affectations_model_1 = require(\"../../shared/model/affectations.model\");\r\nvar ng_bootstrap_1 = require(\"@ng-bootstrap/ng-bootstrap\");\r\nvar moment = require(\"moment\");\r\nvar ng_jhipster_1 = require(\"ng-jhipster\");\r\nvar collaborators_1 = require(\"../../collaborators\");\r\nvar forms_1 = require(\"@angular/forms\");\r\nvar core_2 = require(\"app/core\");\r\nvar projects_1 = require(\"../../projects\");\r\nvar Vue3Component = /** @class */ (function () {\r\n    function Vue3Component(visTimelineService, vue3s, affectationservice, modalService, collaboratorsService, jhiAlertService, formBuilder, accountService, projectsService, vue3ToolsService) {\r\n        var _this = this;\r\n        this.visTimelineService = visTimelineService;\r\n        this.vue3s = vue3s;\r\n        this.affectationservice = affectationservice;\r\n        this.modalService = modalService;\r\n        this.collaboratorsService = collaboratorsService;\r\n        this.jhiAlertService = jhiAlertService;\r\n        this.formBuilder = formBuilder;\r\n        this.accountService = accountService;\r\n        this.projectsService = projectsService;\r\n        this.vue3ToolsService = vue3ToolsService;\r\n        this.visTimeline = 'MyFirstTimeline';\r\n        this.groupItem = undefined;\r\n        this.iditem = null;\r\n        this.importporjetAPIwithTotals = [];\r\n        this.affectationChange = new affectations_model_1.Affectations();\r\n        this.oncetimeupdate = false;\r\n        this.visTimelineOptionsAdmin = {\r\n            snap: function (date, scale, step) {\r\n                var hour = 24 * 60 * 60 * 1000;\r\n                return Math.round(date / hour) * hour;\r\n            },\r\n            onRemove: function (item, callback) {\r\n                swal({\r\n                    title: \"Supression de l'affectation\",\r\n                    text: 'Êtes-vous sûr de vouloir supprimer cette affectation ?',\r\n                    icon: 'warning',\r\n                    confirmButtonClass: 'btn-outline-info',\r\n                    dangerMode: true,\r\n                    closeOnClickOutside: false,\r\n                    buttons: {\r\n                        cancel: 'Annuler',\r\n                        confirm: 'Supprimer'\r\n                    }\r\n                }).then(function (ok) {\r\n                    if (ok) {\r\n                        callback(item); // confirm deletion\r\n                    }\r\n                    else {\r\n                        callback(null); // cancel deletion\r\n                    }\r\n                });\r\n            },\r\n            orientation: {\r\n                axis: 'top',\r\n                item: 'top'\r\n            },\r\n            editable: true,\r\n            selectable: true,\r\n            stack: false,\r\n            clickToUse: false\r\n        };\r\n        this.visTimelineOptionsUser = {\r\n            orientation: {\r\n                axis: 'top',\r\n                item: 'top'\r\n            },\r\n            editable: false,\r\n            selectable: true,\r\n            stack: false,\r\n            clickToUse: false\r\n        };\r\n        this.mementos = [];\r\n        this.iterationHistory = (-1);\r\n        this.OutUndoHistory = true;\r\n        this.OutRedoHistory = true;\r\n        this.lastIteration = (-100); // arbitary value\r\n        this.accountService.identity().then(function (account) {\r\n            _this.settingsAccountlogin = account.login;\r\n        });\r\n        this.affectationservice.query().subscribe(function (res) {\r\n            var importcollaborator = [];\r\n            var allCollaborators = [];\r\n            var allProjects = [];\r\n            for (var i = 0; i < res.body.length; i++) {\r\n                importcollaborator = importcollaborator.concat([\r\n                    {\r\n                        id: res.body[i].project.id,\r\n                        content: res.body[i].project.nameProject\r\n                    }\r\n                ]);\r\n            }\r\n            _this.importcollaborator = importcollaborator;\r\n            for (var i = 0; i < res.body.length; i++) {\r\n                allCollaborators = allCollaborators.concat([res.body[i].collaborator]);\r\n                allProjects = allProjects.concat([res.body[i].project]);\r\n            }\r\n            _this.vue3ToolsService.deleteElementsinTableById(allCollaborators);\r\n            _this.vue3ToolsService.deleteElementsinTableById(allProjects);\r\n            allProjects.sort(_this.vue3ToolsService.triBynameProject);\r\n            allCollaborators.sort(_this.vue3ToolsService.triBynomCollaborator);\r\n            _this.allCollaborators = allCollaborators;\r\n            _this.allProjects = allProjects;\r\n        });\r\n    }\r\n    Vue3Component.prototype.ngOnInit = function () {\r\n        this.ViewWithCollaborators(false);\r\n    };\r\n    Vue3Component.prototype.ViewWithCollaborators = function (isNotFirst) {\r\n        var _this = this;\r\n        this.vue3s\r\n            .getCollaboratorsToServer()\r\n            .then(function (resData1) {\r\n            _this.visTimelineGroups = new timeline_1.VisTimelineGroups(resData1);\r\n            return _this.vue3s.getProjectsToServerWithoutDetails();\r\n        })\r\n            .then(function (resData2) {\r\n            _this.visTimelineItems = new timeline_1.VisTimelineItems(resData2);\r\n            _this.shortTimeline = false;\r\n            _this.itemsTimeline = _this.visTimelineItems.getAll();\r\n            _this.importporjetAPIwithTotals = resData2;\r\n            if (!isNotFirst) {\r\n                _this.saveMemento();\r\n                _this.captureSimpleClickViewWithCollaborators();\r\n                _this.captureItemUpdateViewWithCollaborators();\r\n                _this.captureDoubleClickViewWithCollaborators();\r\n                _this.captureItemOverViewWithCollaborators();\r\n            }\r\n        });\r\n    };\r\n    Vue3Component.prototype.captureItemOverViewWithCollaborators = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.visTimelineService.on(_this.visTimeline, 'itemover');\r\n            _this.CollaboratoritemoverSubscription = _this.visTimelineService.itemover.subscribe(function (eventDataC3) {\r\n                _this.infosItemCollaborator = _this.visTimelineItems.getById(eventDataC3[1].item);\r\n                var infosGroupCollaborator = _this.visTimelineGroups.getById(_this.infosItemCollaborator.group);\r\n                if (_this.iditem !== _this.infosItemCollaborator.id &&\r\n                    String(infosGroupCollaborator.content).valueOf() !== String('Total').valueOf() &&\r\n                    String(typeof _this.infosItemCollaborator.id).valueOf() !== String('string').valueOf()) {\r\n                    _this.groupItem = _this.infosItemCollaborator.group;\r\n                    _this.iditem = _this.infosItemCollaborator.id;\r\n                    _this.oncetimeupdate = false;\r\n                }\r\n            });\r\n        }, 40);\r\n    };\r\n    Vue3Component.prototype.captureSimpleClickViewWithCollaborators = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.visTimelineService.on(_this.visTimeline, 'click');\r\n            _this.CollaboratorclickSubscription = _this.visTimelineService.click.subscribe(function (eventDataC1) {\r\n                var idGroup = eventDataC1[1].group + 1;\r\n                var detectClick = eventDataC1[1].what;\r\n                var infosGroupCollaborator = _this.visTimelineGroups.getById(idGroup - 1);\r\n                if (String(detectClick).valueOf() === String('group-label').valueOf() &&\r\n                    String(Object(infosGroupCollaborator).NameCollaborator).valueOf() !== String('Total').valueOf()) {\r\n                    _this.changeVisibilityLabel(idGroup);\r\n                    _this.changeImageLabel(idGroup - 1, infosGroupCollaborator);\r\n                    _this.visTimelineGroups.update(_this.visTimelineGroups.getByIds([idGroup - 1, idGroup]));\r\n                }\r\n            });\r\n        }, 10);\r\n    };\r\n    Vue3Component.prototype.changeImageLabel = function (idGroup, visTimelineGroup) {\r\n        if (Object(this.visTimelineGroups)._data[idGroup].imageLabel === '&#x25B6') {\r\n            Object(this.visTimelineGroups)._data[idGroup].content = '&#x25bc' + ' ' + Object(visTimelineGroup).NameCollaborator;\r\n            Object(this.visTimelineGroups)._data[idGroup].imageLabel = '&#x25bc';\r\n        }\r\n        else {\r\n            Object(this.visTimelineGroups)._data[idGroup].content = '&#x25B6' + ' ' + Object(visTimelineGroup).NameCollaborator;\r\n            Object(this.visTimelineGroups)._data[idGroup].imageLabel = '&#x25B6';\r\n        }\r\n    };\r\n    Vue3Component.prototype.changeVisibilityLabel = function (idGroup) {\r\n        if (Object(this.visTimelineGroups)._data[idGroup].visible === true) {\r\n            Object(this.visTimelineGroups)._data[idGroup].visible = false;\r\n        }\r\n        else {\r\n            Object(this.visTimelineGroups)._data[idGroup].visible = true;\r\n        }\r\n    };\r\n    Vue3Component.prototype.captureDoubleClickViewWithCollaborators = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.visTimelineService.on(_this.visTimeline, 'doubleClick');\r\n            _this.CollaboratordoubleClickSubscription = _this.visTimelineService.doubleClick.subscribe(function (eventDataC2) {\r\n                var infosItemCollaborator = _this.visTimelineItems.getById(eventDataC2[1].item);\r\n                if (_this.verifyLogin()) {\r\n                    if (Object.keys(eventDataC2[1]).length === 2 &&\r\n                        String(Object(infosItemCollaborator).NameCollaborator).valueOf() !== String('Total').valueOf()) {\r\n                        _this.affectationChange.id = _this.vue3s.tabItemsCollaborator[eventDataC2[1].item - 1].idAffectation;\r\n                        _this.affectationChange.collaborator.id = _this.vue3s.tabItemsCollaborator[eventDataC2[1].item - 1].idCollaborator;\r\n                        _this.affectationChange.project.id = _this.vue3s.tabItemsCollaborator[eventDataC2[1].item - 1].idProject;\r\n                        _this.affectationChange.charge = _this.vue3s.tabItemsCollaborator[eventDataC2[1].item - 1].charge;\r\n                        _this.affectationChange.dateDebut = moment(infosItemCollaborator.start);\r\n                        _this.affectationChange.dateFin = moment(infosItemCollaborator.end);\r\n                        _this.affectationChange.color = affectations_model_1.Colors[infosItemCollaborator.className];\r\n                        _this.open(_this.templateRef);\r\n                    }\r\n                    else if (Object.keys(eventDataC2[1]).length > 2) {\r\n                        _this.visTimelineItems.update(_this.visTimelineItems.getAll());\r\n                    }\r\n                }\r\n            });\r\n        }, 40);\r\n    };\r\n    Vue3Component.prototype.captureItemUpdateViewWithCollaborators = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.visTimelineService.on(_this.visTimeline, 'changed');\r\n            _this.CollaboratorchangedSubscription = _this.visTimelineService.changed.subscribe(function (eventDataC5) {\r\n                var actualitemsTimeline = _this.visTimelineItems.getAll();\r\n                // delete affectation from the timeline by selecting x near its\r\n                if (actualitemsTimeline.length < _this.itemsTimeline.length && !_this.shortTimeline) {\r\n                    var itemDeleted = void 0;\r\n                    for (var i = 0; i < _this.itemsTimeline.length; i++) {\r\n                        var itemN = 0;\r\n                        for (var j = 0; j < actualitemsTimeline.length; j++) {\r\n                            if (_this.itemsTimeline[i].id !== actualitemsTimeline[j].id) {\r\n                                itemN = itemN + 1;\r\n                            }\r\n                        }\r\n                        if (itemN === actualitemsTimeline.length) {\r\n                            itemDeleted = _this.itemsTimeline[i].id;\r\n                        }\r\n                    }\r\n                    for (var i = 0; i < _this.vue3s.tabItemsCollaborator.length; i++) {\r\n                        if (_this.vue3s.tabItemsCollaborator[i].idItem === itemDeleted) {\r\n                            _this.DeleteAffectationBySelectedID(_this.vue3s.tabItemsCollaborator[i].idAffectation);\r\n                        }\r\n                    }\r\n                    _this.itemsTimeline = actualitemsTimeline;\r\n                }\r\n                else {\r\n                    // update the affectation with changing its place in the timeline\r\n                    if (_this.iditem !== null && _this.groupItem !== undefined) {\r\n                        var actualinfosItemCollaborator = _this.visTimelineItems.getById(_this.iditem);\r\n                        if (actualinfosItemCollaborator !== null) {\r\n                            var affectationCollaborator = new affectations_model_1.Affectations();\r\n                            affectationCollaborator.id = _this.vue3s.tabItemsCollaborator[Number(_this.iditem) - 1].idAffectation;\r\n                            affectationCollaborator.dateDebut = moment(actualinfosItemCollaborator.start);\r\n                            affectationCollaborator.dateFin = moment(actualinfosItemCollaborator.end);\r\n                            if (_this.groupItem === actualinfosItemCollaborator.group) {\r\n                                affectationCollaborator.collaborator.id = _this.vue3s.tabItemsCollaborator[Number(_this.iditem) - 1].idCollaborator;\r\n                            }\r\n                            else {\r\n                                affectationCollaborator.collaborator.id = _this.GiveIdCollaboratorFromGroupItem(actualinfosItemCollaborator.group);\r\n                            }\r\n                            affectationCollaborator.project.id = _this.vue3s.tabItemsCollaborator[Number(_this.iditem) - 1].idProject;\r\n                            affectationCollaborator.charge = _this.vue3s.tabItemsCollaborator[Number(_this.iditem) - 1].charge;\r\n                            affectationCollaborator.color = affectations_model_1.Colors[actualinfosItemCollaborator.className];\r\n                            if (!_this.oncetimeupdate) {\r\n                                if (String(affectationCollaborator.dateDebut).valueOf() !==\r\n                                    String(moment(_this.infosItemCollaborator.start)).valueOf() ||\r\n                                    String(affectationCollaborator.dateFin).valueOf() !==\r\n                                        String(moment(_this.infosItemCollaborator.end)).valueOf() ||\r\n                                    _this.groupItem !== actualinfosItemCollaborator.group) {\r\n                                    _this.updateDeadlineToServer(affectationCollaborator);\r\n                                    _this.oncetimeupdate = true;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }, 40);\r\n    };\r\n    Vue3Component.prototype.open = function (content) {\r\n        var _this = this;\r\n        this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then(function (result) {\r\n            _this.closeResult = \"Closed with: \" + result;\r\n        }, function (reason) {\r\n            _this.closeResult = \"Dismissed \" + _this.getDismissReason(reason);\r\n        });\r\n    };\r\n    Vue3Component.prototype.DeleteAffectationBySelectedID = function (id) {\r\n        var _this = this;\r\n        this.deleteAffectationfromServer(id).subscribe(function (res) {\r\n            _this.saveMemento();\r\n        });\r\n    };\r\n    Vue3Component.prototype.deleteAffectationfromServer = function (id) {\r\n        return this.affectationservice.delete(id);\r\n    };\r\n    Vue3Component.prototype.GiveIdCollaboratorFromGroupItem = function (idGroup) {\r\n        for (var i = 0; i < this.importporjetAPIwithTotals.length; i++) {\r\n            if (this.importporjetAPIwithTotals[i].group === idGroup) {\r\n                return this.vue3s.getIdCollaboratorFromNameCollaborator(this.importporjetAPIwithTotals[i].NameCollaborator, this.importcollaborator);\r\n            }\r\n        }\r\n    };\r\n    Vue3Component.prototype.onError = function (errorMessage) {\r\n        this.jhiAlertService.error(errorMessage, null, null);\r\n    };\r\n    Vue3Component.prototype.updateDeadlineToServer = function (affectation) {\r\n        var _this = this;\r\n        return this.affectationservice.update(affectation).subscribe(function (res) {\r\n            _this.saveMemento();\r\n            setTimeout(function () {\r\n                _this.ViewWithCollaborators(true);\r\n            }, 40);\r\n            _this.iditem = null;\r\n        });\r\n    };\r\n    Vue3Component.prototype.Centertimeline = function () {\r\n        var currenttime = this.visTimelineService.getCurrentTime(this.visTimeline);\r\n        this.visTimelineService.moveTo(this.visTimeline, currenttime);\r\n    };\r\n    Vue3Component.prototype.Ajusttimeline = function () {\r\n        this.visTimelineService.fit(this.visTimeline);\r\n    };\r\n    Vue3Component.prototype.initializeFormCollab = function () {\r\n        this.userFormCollab = this.formBuilder.group({\r\n            collaborator1: new forms_1.FormControl('', forms_1.Validators.required),\r\n            AddCollaboratorList: this.formBuilder.array([])\r\n        });\r\n    };\r\n    Vue3Component.prototype.initializeFormProject = function () {\r\n        this.userFormProject = this.formBuilder.group({\r\n            project1: new forms_1.FormControl('', forms_1.Validators.required),\r\n            AddProjectList: this.formBuilder.array([])\r\n        });\r\n    };\r\n    Vue3Component.prototype.initializeFormAffect = function () {\r\n        this.userFormAffect = this.formBuilder.group({\r\n            project1: new forms_1.FormControl('', forms_1.Validators.required),\r\n            collaborator1: new forms_1.FormControl('', forms_1.Validators.required)\r\n        });\r\n    };\r\n    Vue3Component.prototype.openAffect = function (content) {\r\n        var _this = this;\r\n        this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then(function (result) {\r\n            _this.closeResult = \"Closed with: \" + result;\r\n        }, function (reason) {\r\n            _this.closeResult = \"Dismissed \" + _this.getDismissReason(reason);\r\n        });\r\n        this.initializeFormAffect();\r\n    };\r\n    Vue3Component.prototype.openCollab = function (content) {\r\n        var _this = this;\r\n        this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then(function (result) {\r\n            _this.closeResult = \"Closed with: \" + result;\r\n        }, function (reason) {\r\n            _this.closeResult = \"Dismissed \" + _this.getDismissReason(reason);\r\n        });\r\n        this.initializeFormCollab();\r\n    };\r\n    Vue3Component.prototype.openProject = function (content) {\r\n        var _this = this;\r\n        this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then(function (result) {\r\n            _this.closeResult = \"Closed with: \" + result;\r\n        }, function (reason) {\r\n            _this.closeResult = \"Dismissed \" + _this.getDismissReason(reason);\r\n        });\r\n        this.initializeFormProject();\r\n    };\r\n    Vue3Component.prototype.trackCollaboratorsById = function (index, item) {\r\n        return item.id;\r\n    };\r\n    Vue3Component.prototype.trackProjectsById = function (index, item) {\r\n        return item.id;\r\n    };\r\n    Vue3Component.prototype.DisplaySomeCollaborators = function () {\r\n        var tabCollaborator = this.getCollaborators().value.concat([this.collaborator1]);\r\n        for (var i in Object(this.visTimelineGroups)._data) {\r\n            if (Object(this.visTimelineGroups)._data.hasOwnProperty(i)) {\r\n                var result = true;\r\n                var notvisible = void 0;\r\n                for (var j = 0; j < tabCollaborator.length; j++) {\r\n                    if (String(Object(this.visTimelineGroups)._data[i].NameCollaborator).valueOf() !==\r\n                        String(tabCollaborator[j].nomCollaborator + ' ' + tabCollaborator[j].prenomCollaborator).valueOf()) {\r\n                        notvisible = true;\r\n                    }\r\n                    else {\r\n                        notvisible = false;\r\n                    }\r\n                    result = result && notvisible;\r\n                }\r\n                if (result) {\r\n                    Object(this.visTimelineGroups)._data[i].visible = false;\r\n                }\r\n                else {\r\n                    Object(this.visTimelineGroups)._data[i].visible = true;\r\n                }\r\n            }\r\n        }\r\n        this.visTimelineGroups.update(this.visTimelineGroups.getByIds(this.visTimelineGroups.getIds()));\r\n        this.iditem = null;\r\n    };\r\n    Vue3Component.prototype.DisplaySomeProjects = function () {\r\n        var id = [];\r\n        var tabProject = this.getProjects().value.concat([this.project1]);\r\n        for (var i in Object(this.visTimelineItems)._data) {\r\n            if (Object(this.visTimelineItems)._data.hasOwnProperty(i)) {\r\n                var notvisible = void 0;\r\n                for (var j = 0; j < tabProject.length; j++) {\r\n                    if (String(Object(this.visTimelineItems)._data[i].NameProject).valueOf() ===\r\n                        String(tabProject[j].nameProject).valueOf()) {\r\n                        notvisible = true;\r\n                    }\r\n                    else {\r\n                        notvisible = false;\r\n                    }\r\n                    if (notvisible) {\r\n                        id = id.concat(Object(this.visTimelineItems)._data[i].id);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var newVisTimelineItems = this.visTimelineItems.getByIds(id);\r\n        this.visTimelineService.setItems(this.visTimeline, newVisTimelineItems);\r\n        this.iditem = null;\r\n    };\r\n    Vue3Component.prototype.DisplaySomeAffectations = function () {\r\n        var id = 0;\r\n        var tabCollaborator = [this.collaborator1];\r\n        var tabProject = [this.project1];\r\n        for (var i in Object(this.visTimelineItems)._data) {\r\n            if (Object(this.visTimelineItems)._data.hasOwnProperty(i)) {\r\n                if (String(Object(this.visTimelineItems)._data[i].NameProject).valueOf() === String(tabProject[0].nameProject).valueOf()) {\r\n                    if (String(Object(this.visTimelineItems)._data[i].NameCollaborator).valueOf() ===\r\n                        String(tabCollaborator[0].nomCollaborator + ' ' + tabCollaborator[0].prenomCollaborator).valueOf()) {\r\n                        id = Object(this.visTimelineItems)._data[i].id;\r\n                        var newVisTimelineItems = this.visTimelineItems.getByIds([id]);\r\n                        this.visTimelineService.setItems(this.visTimeline, newVisTimelineItems);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (id === 0) {\r\n            if (String(this.vue3s.language).valueOf() === String('fr').valueOf()) {\r\n                swal({\r\n                    title: \"Affichage d'affectation\",\r\n                    text: \"Cette affectation n'existe pas dans la timeline !\",\r\n                    icon: 'warning',\r\n                    confirmButtonClass: 'btn-outline-info',\r\n                    dangerMode: true,\r\n                    closeOnClickOutside: false,\r\n                    showCloseButton: true\r\n                });\r\n            }\r\n            else {\r\n                swal({\r\n                    title: 'Display of affectation',\r\n                    text: \"This affectation doesn't exist in the timeline !\",\r\n                    icon: 'warning',\r\n                    confirmButtonClass: 'btn-outline-info',\r\n                    dangerMode: true,\r\n                    closeOnClickOutside: false,\r\n                    showCloseButton: true\r\n                });\r\n            }\r\n        }\r\n        this.iditem = null;\r\n    };\r\n    Vue3Component.prototype.DisplayAllAffectations = function () {\r\n        for (var i in Object(this.visTimelineGroups)._data) {\r\n            if (!Object(this.visTimelineGroups)._data[i].visible &&\r\n                String(Object(this.visTimelineGroups)._data[i].NameCollaborator).valueOf() !== String('Total').valueOf()) {\r\n                Object(this.visTimelineGroups)._data[i].visible = true;\r\n            }\r\n        }\r\n        this.visTimelineService.setData(this.visTimeline, { groups: this.visTimelineGroups, items: this.visTimelineItems });\r\n        this.iditem = null;\r\n    };\r\n    Vue3Component.prototype.ActualizeTimeline = function () {\r\n        var _this = this;\r\n        if (this.mementos[this.lastIteration].length === this.mementos[this.iterationHistory].length) {\r\n            for (var i = 0; i < this.mementos[this.iterationHistory].length; i++) {\r\n                this.affectationservice.update(this.mementos[this.iterationHistory][i]).subscribe(function (res) {\r\n                    _this.ViewWithCollaborators(true);\r\n                });\r\n            }\r\n        }\r\n        else if (this.mementos[this.lastIteration].length < this.mementos[this.iterationHistory].length) {\r\n            this.affectationservice\r\n                .update(this.ActualIdAffectation(this.mementos[this.iterationHistory], this.mementos[this.lastIteration])[1])\r\n                .subscribe(function (res) {\r\n                for (var i = 0; i < _this.mementos[_this.iterationHistory].length; i++) {\r\n                    if (_this.mementos[_this.iterationHistory][i].id ===\r\n                        _this.ActualIdAffectation(_this.mementos[_this.iterationHistory], _this.mementos[_this.lastIteration])[0]) {\r\n                        _this.mementos[_this.iterationHistory][i] = res.body;\r\n                    }\r\n                }\r\n                _this.ViewWithCollaborators(true);\r\n            });\r\n        }\r\n        else {\r\n            this.affectationservice\r\n                .delete(this.ActualIdAffectation(this.mementos[this.lastIteration], this.mementos[this.iterationHistory])[0])\r\n                .subscribe(function (res) {\r\n                _this.ViewWithCollaborators(true);\r\n            });\r\n        }\r\n    };\r\n    Vue3Component.prototype.ActualIdAffectation = function (BigTable, SmallTable) {\r\n        var param;\r\n        for (var i = 0; i < BigTable.length; i++) {\r\n            param = false;\r\n            var j = 0;\r\n            while (j < SmallTable.length && !param) {\r\n                if (BigTable[i].id === SmallTable[j].id) {\r\n                    param = true;\r\n                }\r\n                j = j + 1;\r\n            }\r\n            if (!param && j === SmallTable.length) {\r\n                return [BigTable[i].id, BigTable[i]];\r\n            }\r\n        }\r\n    };\r\n    Vue3Component.prototype.OutHistory = function () {\r\n        if (this.iterationHistory <= 0) {\r\n            this.OutUndoHistory = true;\r\n            this.OutRedoHistory = false;\r\n        }\r\n        if (this.iterationHistory >= this.mementos.length - 1) {\r\n            this.OutRedoHistory = true;\r\n            this.OutUndoHistory = false;\r\n        }\r\n    };\r\n    Vue3Component.prototype.UndoTimeline = function () {\r\n        this.iditem = null;\r\n        if (this.iterationHistory <= 0) {\r\n            return;\r\n        }\r\n        else {\r\n            this.lastIteration = this.iterationHistory;\r\n            this.iterationHistory = this.iterationHistory - 1;\r\n            this.OutHistory();\r\n        }\r\n        this.ActualizeTimeline();\r\n    };\r\n    Vue3Component.prototype.RedoTimeline = function () {\r\n        this.iditem = null;\r\n        if (this.iterationHistory >= this.mementos.length - 1) {\r\n            return;\r\n        }\r\n        else {\r\n            this.lastIteration = this.iterationHistory;\r\n            this.iterationHistory = this.iterationHistory + 1;\r\n            this.OutHistory();\r\n        }\r\n        this.ActualizeTimeline();\r\n    };\r\n    Vue3Component.prototype.saveMemento = function () {\r\n        var _this = this;\r\n        if (this.iterationHistory < this.mementos.length - 1) {\r\n            this.mementos.splice(this.iterationHistory + 1, this.mementos.length - this.iterationHistory);\r\n            this.OutRedoHistory = true;\r\n        }\r\n        this.affectationservice.query().subscribe(function (res) {\r\n            var storeobj;\r\n            storeobj = res.body;\r\n            if (_this.mementos.length >= 2) {\r\n                _this.RefreshTableHistory();\r\n                _this.mementos[1] = res.body;\r\n            }\r\n            else {\r\n                _this.mementos.push(storeobj);\r\n                _this.iterationHistory = _this.iterationHistory + 1;\r\n            }\r\n            if (_this.iterationHistory >= 1) {\r\n                _this.OutUndoHistory = false;\r\n            }\r\n        });\r\n    };\r\n    Vue3Component.prototype.RefreshTableHistory = function () {\r\n        for (var i = 0; i < this.mementos.length - 1; i++) {\r\n            this.mementos[i] = this.mementos[i + 1];\r\n        }\r\n    };\r\n    Vue3Component.prototype.getCollaborators = function () {\r\n        return this.userFormCollab.get('AddCollaboratorList');\r\n    };\r\n    Vue3Component.prototype.getProjects = function () {\r\n        return this.userFormProject.get('AddProjectList');\r\n    };\r\n    Vue3Component.prototype.getAffectations = function () {\r\n        return this.userFormAffect.get('AddAffectationList');\r\n    };\r\n    Vue3Component.prototype.AddCollaborators = function () {\r\n        var newCollaboratorControl = this.formBuilder.control(null, forms_1.Validators.required);\r\n        this.getCollaborators().push(newCollaboratorControl);\r\n    };\r\n    Vue3Component.prototype.AddProjects = function () {\r\n        var newProjectControl = this.formBuilder.control(null, forms_1.Validators.required);\r\n        this.getProjects().push(newProjectControl);\r\n    };\r\n    Vue3Component.prototype.displayInterval = function () {\r\n        this.visTimelineService.setWindow(this.visTimeline, this.dateDebutItem, this.dateFinItem);\r\n    };\r\n    Vue3Component.prototype.getDismissReason = function (reason) {\r\n        if (reason === ng_bootstrap_1.ModalDismissReasons.ESC) {\r\n            return 'by pressing ESC';\r\n        }\r\n        else if (reason === ng_bootstrap_1.ModalDismissReasons.BACKDROP_CLICK) {\r\n            return 'by clicking on a backdrop';\r\n        }\r\n        else {\r\n            return \"with: \" + reason;\r\n        }\r\n    };\r\n    Vue3Component.prototype.changeInputsAffectations = function () {\r\n        this.affectationChange.project.id = this.projectSelected.id;\r\n        this.updateDeadlineToServer(this.affectationChange);\r\n    };\r\n    Vue3Component.prototype.AddTotalToList = function (list) {\r\n        var j = 2;\r\n        for (var i = 0; i < list.length; i++) {\r\n            list.splice(i + 1, 0, { id: j, content: 'Total' });\r\n            i = i + 1;\r\n            j = j + 2;\r\n        }\r\n        for (var i = 0; i < list.length; i++) {\r\n            list[i].id = i + 1;\r\n        }\r\n        return list;\r\n    };\r\n    Vue3Component.prototype.verifyLogin = function () {\r\n        return String(this.settingsAccountlogin).valueOf() === String('admin').valueOf();\r\n    };\r\n    Vue3Component.prototype.traductionTitle = function () {\r\n        var titleEn1 = 'Display collaborator(s)';\r\n        var titleFr1 = 'Afficher un(des) collaborator(s)';\r\n        var titleEn2 = 'Display project(s)';\r\n        var titleFr2 = 'Afficher un(des) projet(s)';\r\n        var titleEn3 = 'Display affectation';\r\n        var titleFr3 = 'Afficher une affectation';\r\n        var titleEn4 = 'Display all affectations';\r\n        var titleFr4 = 'Afficher toutes les affectation';\r\n        var titleEn5 = 'Center the timeline';\r\n        var titleFr5 = 'Centrer la timeline';\r\n        var titleEn6 = 'Adjust the timeline';\r\n        var titleFr6 = 'Ajuster la timeline';\r\n        var titleEn7 = \"Adjust the timeline on time's interval\";\r\n        var titleFr7 = 'Ajuster la timeline sur un intervalle de temps';\r\n        var titleEn8 = 'Click to go back';\r\n        var titleFr8 = 'Cliquer pour revenir en arrière';\r\n        var titleEn9 = 'Click to advance';\r\n        var titleFr9 = 'Cliquer pour avancer';\r\n        if (String(this.vue3s.language).valueOf() === String('fr').valueOf()) {\r\n            return [titleFr1, titleFr2, titleFr3, titleFr4, titleFr5, titleFr6, titleFr7, titleFr8, titleFr9];\r\n        }\r\n        else {\r\n            return [titleEn1, titleEn2, titleEn3, titleEn4, titleEn5, titleEn6, titleEn7, titleEn8, titleEn9];\r\n        }\r\n    };\r\n    Vue3Component.prototype.ngOnDestroy = function () {\r\n        this.CollaboratordoubleClickSubscription.unsubscribe();\r\n        this.CollaboratorclickSubscription.unsubscribe();\r\n        this.CollaboratorchangedSubscription.unsubscribe();\r\n        this.CollaboratoritemoverSubscription.unsubscribe();\r\n    };\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\r\n    tslib_1.__decorate([\r\n        core_1.ViewChild('content5'),\r\n        tslib_1.__metadata(\"design:type\", typeof (_a = typeof core_1.TemplateRef !== \"undefined\" && core_1.TemplateRef) === \"function\" ? _a : Object)\r\n    ], Vue3Component.prototype, \"templateRef\", void 0);\r\n    Vue3Component = tslib_1.__decorate([\r\n        core_1.Component({\r\n            selector: 'jhi-vue-2',\r\n            templateUrl: './vue-3.component.html',\r\n            styleUrls: ['./vue-3.component.css']\r\n        }),\r\n        tslib_1.__metadata(\"design:paramtypes\", [typeof (_b = typeof timeline_1.VisTimelineService !== \"undefined\" && timeline_1.VisTimelineService) === \"function\" ? _b : Object, typeof (_c = typeof _1.Vue3Service !== \"undefined\" && _1.Vue3Service) === \"function\" ? _c : Object, typeof (_d = typeof affectations_service_1.AffectationsService !== \"undefined\" && affectations_service_1.AffectationsService) === \"function\" ? _d : Object, typeof (_e = typeof ng_bootstrap_1.NgbModal !== \"undefined\" && ng_bootstrap_1.NgbModal) === \"function\" ? _e : Object, typeof (_f = typeof collaborators_1.CollaboratorsService !== \"undefined\" && collaborators_1.CollaboratorsService) === \"function\" ? _f : Object, typeof (_g = typeof ng_jhipster_1.JhiAlertService !== \"undefined\" && ng_jhipster_1.JhiAlertService) === \"function\" ? _g : Object, typeof (_h = typeof forms_1.FormBuilder !== \"undefined\" && forms_1.FormBuilder) === \"function\" ? _h : Object, typeof (_j = typeof core_2.AccountService !== \"undefined\" && core_2.AccountService) === \"function\" ? _j : Object, typeof (_k = typeof projects_1.ProjectsService !== \"undefined\" && projects_1.ProjectsService) === \"function\" ? _k : Object, typeof (_l = typeof vue_3_Tools_service_1.Vue3ToolsService !== \"undefined\" && vue_3_Tools_service_1.Vue3ToolsService) === \"function\" ? _l : Object])\r\n    ], Vue3Component);\r\n    return Vue3Component;\r\n}());\r\nexports.Vue3Component = Vue3Component;\r\n",{"version":3,"file":"C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\src\\main\\webapp\\app\\entities\\vue-collaborators\\vue-3.component.ts","sourceRoot":"","sources":["C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\angular-router-loader\\src\\index.js!C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\node_modules\\tslint-loader\\index.js!C:\\Users\\AJE18508\\Documents\\open_chargeplan2\\src\\main\\webapp\\app\\entities\\vue-collaborators\\vue-3.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, OnDestroy, ViewChild, TemplateRef } from '@angular/core';\nimport {\n    VisTimelineService,\n    VisTimelineItems,\n    VisTimelineGroups,\n    VisId,\n    VisDate,\n    VisTimelineOptions,\n    VisTimelineItem,\n    VisTimelineGroup\n} from './components/timeline';\nimport * as _swal from 'sweetalert';\nimport { SweetAlert } from 'sweetalert/typings/core';\nimport { Vue3ToolsService } from './vue-3.Tools.service';\nconst swal: SweetAlert = _swal as any;\nimport { Vue3Service } from '.';\nimport { AffectationsService } from '../../affectations/affectations.service';\nimport { IAffectations, Affectations, Colors } from '../../shared/model/affectations.model';\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\nimport * as moment from 'moment';\nimport { JhiAlertService } from 'ng-jhipster';\nimport { CollaboratorsService } from '../../collaborators';\nimport { FormArray, FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\nimport { Subscription } from 'rxjs/internal/Subscription';\nimport { AccountService } from 'app/core';\nimport { IProjects } from 'app/shared/model/projects.model';\nimport { ProjectsService } from '../../projects';\nimport { ICollaborators } from 'app/shared/model/collaborators.model';\n@Component({\n    selector: 'jhi-vue-2',\n    templateUrl: './vue-3.component.html',\n    styleUrls: ['./vue-3.component.css']\n})\nexport class Vue3Component implements OnInit, OnDestroy {\n    public visTimeline = 'MyFirstTimeline';\n    public visTimelineItems: VisTimelineItems;\n    public infosItemCollaborator: VisTimelineItem;\n    public infosItemProject: VisTimelineItem;\n    public visTimelineGroups: VisTimelineGroups;\n    public dateDebutItem: VisDate;\n    public dateFinItem: VisDate;\n    public groupItem: Number = undefined;\n    public iditem: VisId = null;\n    public closeResult: String;\n    public userFormCollab: FormGroup;\n    public userFormProject: FormGroup;\n    public userFormAffect: FormGroup;\n    public collaborator1: any;\n    public project1: any;\n    public projectSelected: any;\n    public CollaboratordoubleClickSubscription: Subscription;\n    public CollaboratorclickSubscription: Subscription;\n    public CollaboratorchangedSubscription: Subscription;\n    public CollaboratoritemoverSubscription: Subscription;\n    public importporjetAPIwithTotals: any[] = [];\n    public importcollaborator: any[];\n    @ViewChild('content5') templateRef: TemplateRef<any>;\n    public affectationChange: IAffectations = new Affectations();\n    public oncetimeupdate: Boolean = false;\n    public visTimelineOptionsAdmin: VisTimelineOptions = {\n        snap: (date: any, scale, step) => {\n            const hour = 24 * 60 * 60 * 1000;\n            return Math.round(date / hour) * hour;\n        },\n        onRemove: (item, callback) => {\n            swal({\n                title: \"Supression de l'affectation\",\n                text: 'Êtes-vous sûr de vouloir supprimer cette affectation ?',\n                icon: 'warning',\n                confirmButtonClass: 'btn-outline-info',\n                dangerMode: true,\n                closeOnClickOutside: false,\n                buttons: {\n                    cancel: 'Annuler',\n                    confirm: 'Supprimer'\n                }\n            } as any).then(function(ok) {\n                if (ok) {\n                    callback(item); // confirm deletion\n                } else {\n                    callback(null); // cancel deletion\n                }\n            });\n        },\n        orientation: {\n            axis: 'top',\n            item: 'top'\n        },\n        editable: true,\n        selectable: true,\n        stack: false,\n        clickToUse: false\n    };\n    public visTimelineOptionsUser: VisTimelineOptions = {\n        orientation: {\n            axis: 'top',\n            item: 'top'\n        },\n        editable: false,\n        selectable: true,\n        stack: false,\n        clickToUse: false\n    };\n    public settingsAccountlogin: any;\n    public itemsTimeline: any[];\n    public allProjects: IProjects[];\n    public allCollaborators: ICollaborators[];\n    public shortTimeline: Boolean;\n    public mementos: any[] = [];\n    public iterationHistory: number = (-1);\n    public OutUndoHistory: Boolean = true;\n    public OutRedoHistory: Boolean = true;\n    public lastIteration: number = (-100); // arbitary value\n\n    public constructor(\n        private visTimelineService: VisTimelineService,\n        private vue3s: Vue3Service,\n        private affectationservice: AffectationsService,\n        private modalService: NgbModal,\n        protected collaboratorsService: CollaboratorsService,\n        protected jhiAlertService: JhiAlertService,\n        private formBuilder: FormBuilder,\n        private accountService: AccountService,\n        protected projectsService: ProjectsService,\n        private vue3ToolsService: Vue3ToolsService\n    ) {\n\n        this.accountService.identity().then(account => {\n            this.settingsAccountlogin = account.login;\n        });\n\n        this.affectationservice.query().subscribe((res: any) => {\n            let importcollaborator: any[] = [];\n            let allCollaborators: any[] = [];\n            let allProjects: any[] = [];\n            for (let i = 0; i < res.body.length; i++) {\n                importcollaborator = importcollaborator.concat([\n                    {\n                        id: res.body[i].project.id,\n                        content: res.body[i].project.nameProject\n                    }\n                ]);\n            }\n            this.importcollaborator = importcollaborator;\n            for (let i = 0; i < res.body.length; i++) {\n                allCollaborators = allCollaborators.concat([res.body[i].collaborator]);\n                allProjects = allProjects.concat([res.body[i].project]);\n            }\n            this.vue3ToolsService.deleteElementsinTableById(allCollaborators);\n            this.vue3ToolsService.deleteElementsinTableById(allProjects);\n            allProjects.sort(this.vue3ToolsService.triBynameProject);\n            allCollaborators.sort(this.vue3ToolsService.triBynomCollaborator);\n            this.allCollaborators = allCollaborators;\n            this.allProjects = allProjects;\n        });\n    }\n\n    public ngOnInit(): void {\n        this.ViewWithCollaborators(false);\n    }\n\n    public ViewWithCollaborators(isNotFirst: Boolean) {\n        this.vue3s\n            .getCollaboratorsToServer()\n            .then((resData1: any[]) => {\n                    this.visTimelineGroups = new VisTimelineGroups(resData1);\n                    return this.vue3s.getProjectsToServerWithoutDetails();\n            })\n            .then((resData2: any[]) => {\n                    this.visTimelineItems = new VisTimelineItems(resData2);\n                    this.shortTimeline = false;\n                    this.itemsTimeline = this.visTimelineItems.getAll();\n                    this.importporjetAPIwithTotals = resData2;\n\n                if (!isNotFirst) {\n                    this.saveMemento();\n                    this.captureSimpleClickViewWithCollaborators();\n                    this.captureItemUpdateViewWithCollaborators();\n                    this.captureDoubleClickViewWithCollaborators();\n                    this.captureItemOverViewWithCollaborators();\n                }\n            });\n    }\n\n    public captureItemOverViewWithCollaborators() {\n        setTimeout(() => {\n            this.visTimelineService.on(this.visTimeline, 'itemover');\n            this.CollaboratoritemoverSubscription = this.visTimelineService.itemover.subscribe((eventDataC3: any[]) => {\n                this.infosItemCollaborator = this.visTimelineItems.getById(eventDataC3[1].item);\n                const infosGroupCollaborator = this.visTimelineGroups.getById(this.infosItemCollaborator.group);\n                if (\n                    this.iditem !== this.infosItemCollaborator.id &&\n                    String(infosGroupCollaborator.content).valueOf() !== String('Total').valueOf() &&\n                    String(typeof this.infosItemCollaborator.id).valueOf() !== String('string').valueOf()\n                ) {\n                    this.groupItem = this.infosItemCollaborator.group;\n                    this.iditem = this.infosItemCollaborator.id;\n                    this.oncetimeupdate = false;\n                }\n            });\n        }, 40);\n    }\n\n    public captureSimpleClickViewWithCollaborators() {\n        setTimeout(() => {\n            this.visTimelineService.on(this.visTimeline, 'click');\n            this.CollaboratorclickSubscription = this.visTimelineService.click.subscribe((eventDataC1: any[]) => {\n                const idGroup = eventDataC1[1].group + 1;\n                const detectClick = eventDataC1[1].what;\n                const infosGroupCollaborator = this.visTimelineGroups.getById(idGroup - 1);\n                if (\n                    String(detectClick).valueOf() === String('group-label').valueOf() &&\n                    String(Object(infosGroupCollaborator).NameCollaborator).valueOf() !== String('Total').valueOf()\n                ) {\n                    this.changeVisibilityLabel(idGroup);\n                    this.changeImageLabel(idGroup - 1, infosGroupCollaborator);\n                    this.visTimelineGroups.update(this.visTimelineGroups.getByIds([idGroup - 1, idGroup]));\n                }\n            });\n        }, 10);\n    }\n\n    public changeImageLabel(idGroup: number, visTimelineGroup: VisTimelineGroup) {\n        if (Object(this.visTimelineGroups)._data[idGroup].imageLabel === '&#x25B6') {\n            Object(this.visTimelineGroups)._data[idGroup].content = '&#x25bc' + ' ' + Object(visTimelineGroup).NameCollaborator;\n            Object(this.visTimelineGroups)._data[idGroup].imageLabel = '&#x25bc';\n        } else {\n            Object(this.visTimelineGroups)._data[idGroup].content = '&#x25B6' + ' ' + Object(visTimelineGroup).NameCollaborator;\n            Object(this.visTimelineGroups)._data[idGroup].imageLabel = '&#x25B6';\n        }\n    }\n\n    public changeVisibilityLabel(idGroup: number) {\n        if (Object(this.visTimelineGroups)._data[idGroup].visible === true) {\n            Object(this.visTimelineGroups)._data[idGroup].visible = false;\n        } else {\n            Object(this.visTimelineGroups)._data[idGroup].visible = true;\n        }\n    }\n\n    public captureDoubleClickViewWithCollaborators() {\n        setTimeout(() => {\n            this.visTimelineService.on(this.visTimeline, 'doubleClick');\n            this.CollaboratordoubleClickSubscription = this.visTimelineService.doubleClick.subscribe((eventDataC2: any[]) => {\n                const infosItemCollaborator = this.visTimelineItems.getById(eventDataC2[1].item);\n                if (this.verifyLogin()) {\n                    if (\n                        Object.keys(eventDataC2[1]).length === 2 &&\n                        String(Object(infosItemCollaborator).NameCollaborator).valueOf() !== String('Total').valueOf()\n                    ) {\n                        this.affectationChange.id = this.vue3s.tabItemsCollaborator[eventDataC2[1].item - 1].idAffectation;\n                        this.affectationChange.collaborator.id = this.vue3s.tabItemsCollaborator[eventDataC2[1].item - 1].idCollaborator;\n                        this.affectationChange.project.id = this.vue3s.tabItemsCollaborator[eventDataC2[1].item - 1].idProject;\n                        this.affectationChange.charge = this.vue3s.tabItemsCollaborator[eventDataC2[1].item - 1].charge;\n                        this.affectationChange.dateDebut = moment(infosItemCollaborator.start);\n                        this.affectationChange.dateFin = moment(infosItemCollaborator.end);\n                        this.affectationChange.color = Colors[infosItemCollaborator.className];\n                        this.open(this.templateRef);\n                    } else if (Object.keys(eventDataC2[1]).length > 2) {\n                        this.visTimelineItems.update(this.visTimelineItems.getAll());\n                    }\n                }\n            });\n        }, 40);\n    }\n\n    public captureItemUpdateViewWithCollaborators() {\n        setTimeout(() => {\n            this.visTimelineService.on(this.visTimeline, 'changed');\n            this.CollaboratorchangedSubscription = this.visTimelineService.changed.subscribe((eventDataC5: any[]) => {\n                const actualitemsTimeline = this.visTimelineItems.getAll();\n                // delete affectation from the timeline by selecting x near its\n                if (actualitemsTimeline.length < this.itemsTimeline.length && !this.shortTimeline) {\n                    let itemDeleted: Number;\n                    for (let i = 0; i < this.itemsTimeline.length; i++) {\n                        let itemN = 0;\n                        for (let j = 0; j < actualitemsTimeline.length; j++) {\n                            if (this.itemsTimeline[i].id !== actualitemsTimeline[j].id) {\n                                itemN = itemN + 1;\n                            }\n                        }\n                        if (itemN === actualitemsTimeline.length) {\n                            itemDeleted = this.itemsTimeline[i].id;\n                        }\n                    }\n\n                    for (let i = 0; i < this.vue3s.tabItemsCollaborator.length; i++) {\n                        if (this.vue3s.tabItemsCollaborator[i].idItem === itemDeleted) {\n                            this.DeleteAffectationBySelectedID(this.vue3s.tabItemsCollaborator[i].idAffectation);\n                        }\n                    }\n                    this.itemsTimeline = actualitemsTimeline;\n                } else {\n                    // update the affectation with changing its place in the timeline\n                    if (this.iditem !== null && this.groupItem !== undefined) {\n                        const actualinfosItemCollaborator = this.visTimelineItems.getById(this.iditem);\n                        if (actualinfosItemCollaborator !== null) {\n                            const affectationCollaborator: IAffectations = new Affectations();\n                            affectationCollaborator.id = this.vue3s.tabItemsCollaborator[Number(this.iditem) - 1].idAffectation;\n                            affectationCollaborator.dateDebut = moment(actualinfosItemCollaborator.start);\n                            affectationCollaborator.dateFin = moment(actualinfosItemCollaborator.end);\n                            if (this.groupItem === actualinfosItemCollaborator.group) {\n                                affectationCollaborator.collaborator.id = this.vue3s.tabItemsCollaborator[\n                                    Number(this.iditem) - 1\n                                ].idCollaborator;\n                            } else {\n                                affectationCollaborator.collaborator.id = this.GiveIdCollaboratorFromGroupItem(\n                                    actualinfosItemCollaborator.group\n                                );\n                            }\n                            affectationCollaborator.project.id = this.vue3s.tabItemsCollaborator[Number(this.iditem) - 1].idProject;\n                            affectationCollaborator.charge = this.vue3s.tabItemsCollaborator[Number(this.iditem) - 1].charge;\n                            affectationCollaborator.color = Colors[actualinfosItemCollaborator.className];\n                            if (!this.oncetimeupdate) {\n                                if (\n                                    String(affectationCollaborator.dateDebut).valueOf() !==\n                                        String(moment(this.infosItemCollaborator.start)).valueOf() ||\n                                    String(affectationCollaborator.dateFin).valueOf() !==\n                                        String(moment(this.infosItemCollaborator.end)).valueOf() ||\n                                    this.groupItem !== actualinfosItemCollaborator.group\n                                ) {\n                                    this.updateDeadlineToServer(affectationCollaborator);\n                                    this.oncetimeupdate = true;\n                                }\n                            }\n                        }\n                    }\n                }\n            });\n        }, 40);\n    }\n\n    public open(content) {\n        this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then(\n            result => {\n                this.closeResult = `Closed with: ${result}`;\n            },\n            reason => {\n                this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n            }\n        );\n    }\n\n    public DeleteAffectationBySelectedID(id: number) {\n        this.deleteAffectationfromServer(id).subscribe((res: any) => {\n            this.saveMemento();\n        });\n    }\n\n    public deleteAffectationfromServer(id: number) {\n        return this.affectationservice.delete(id);\n    }\n\n    public GiveIdCollaboratorFromGroupItem(idGroup: Number): number {\n        for (let i = 0; i < this.importporjetAPIwithTotals.length; i++) {\n            if (this.importporjetAPIwithTotals[i].group === idGroup) {\n                return this.vue3s.getIdCollaboratorFromNameCollaborator(\n                    this.importporjetAPIwithTotals[i].NameCollaborator,\n                    this.importcollaborator\n                );\n            }\n        }\n    }\n\n    protected onError(errorMessage: string) {\n        this.jhiAlertService.error(errorMessage, null, null);\n    }\n\n    public updateDeadlineToServer(affectation: IAffectations) {\n        return this.affectationservice.update(affectation).subscribe((res: any) => {\n            this.saveMemento();\n            setTimeout(() => {\n                this.ViewWithCollaborators(true);\n            }, 40);\n            this.iditem = null;\n        });\n    }\n\n    public Centertimeline() {\n        const currenttime = this.visTimelineService.getCurrentTime(this.visTimeline);\n        this.visTimelineService.moveTo(this.visTimeline, currenttime);\n    }\n\n    public Ajusttimeline() {\n        this.visTimelineService.fit(this.visTimeline);\n    }\n\n    public initializeFormCollab() {\n        this.userFormCollab = this.formBuilder.group({\n            collaborator1: new FormControl('', Validators.required),\n            AddCollaboratorList: this.formBuilder.array([])\n        });\n    }\n\n    public initializeFormProject() {\n        this.userFormProject = this.formBuilder.group({\n            project1: new FormControl('', Validators.required),\n            AddProjectList: this.formBuilder.array([])\n        });\n    }\n\n    public initializeFormAffect() {\n        this.userFormAffect = this.formBuilder.group({\n            project1: new FormControl('', Validators.required),\n            collaborator1: new FormControl('', Validators.required)\n        });\n    }\n\n    public openAffect(content) {\n        this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then(\n            result => {\n                this.closeResult = `Closed with: ${result}`;\n            },\n            reason => {\n                this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n            }\n        );\n        this.initializeFormAffect();\n    }\n\n    public openCollab(content) {\n        this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then(\n            result => {\n                this.closeResult = `Closed with: ${result}`;\n            },\n            reason => {\n                this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n            }\n        );\n        this.initializeFormCollab();\n    }\n\n    public openProject(content) {\n        this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then(\n            result => {\n                this.closeResult = `Closed with: ${result}`;\n            },\n            reason => {\n                this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n            }\n        );\n        this.initializeFormProject();\n    }\n\n    public trackCollaboratorsById(index: Number, item: any) {\n        return item.id;\n    }\n\n    public trackProjectsById(index: Number, item: any) {\n        return item.id;\n    }\n\n    public DisplaySomeCollaborators() {\n        const tabCollaborator = this.getCollaborators().value.concat([this.collaborator1]);\n        for (const i in Object(this.visTimelineGroups)._data) {\n            if (Object(this.visTimelineGroups)._data.hasOwnProperty(i)) {\n                let result: Boolean = true;\n                let notvisible: Boolean;\n                for (let j = 0; j < tabCollaborator.length; j++) {\n                    if (\n                        String(Object(this.visTimelineGroups)._data[i].NameCollaborator).valueOf() !==\n                        String(tabCollaborator[j].nomCollaborator + ' ' + tabCollaborator[j].prenomCollaborator).valueOf()\n                    ) {\n                        notvisible = true;\n                    } else {\n                        notvisible = false;\n                    }\n                    result = result && notvisible;\n                }\n                if (result) {\n                    Object(this.visTimelineGroups)._data[i].visible = false;\n                } else {\n                    Object(this.visTimelineGroups)._data[i].visible = true;\n                }\n            }\n        }\n        this.visTimelineGroups.update(this.visTimelineGroups.getByIds(this.visTimelineGroups.getIds()));\n        this.iditem = null;\n    }\n\n    public DisplaySomeProjects() {\n        let id: VisId[] = [];\n        const tabProject = this.getProjects().value.concat([this.project1]);\n        for (const i in Object(this.visTimelineItems)._data) {\n            if (Object(this.visTimelineItems)._data.hasOwnProperty(i)) {\n                let notvisible: Boolean;\n                for (let j = 0; j < tabProject.length; j++) {\n                    if (\n                        String(Object(this.visTimelineItems)._data[i].NameProject).valueOf() ===\n                        String(tabProject[j].nameProject).valueOf()\n                    ) {\n                        notvisible = true;\n                    } else {\n                        notvisible = false;\n                    }\n                    if (notvisible) {\n                        id = id.concat(Object(this.visTimelineItems)._data[i].id);\n                    }\n                }\n            }\n        }\n        const newVisTimelineItems: VisTimelineItems = this.visTimelineItems.getByIds(id) as any;\n        this.visTimelineService.setItems(this.visTimeline, newVisTimelineItems);\n        this.iditem = null;\n    }\n\n    public DisplaySomeAffectations() {\n        let id: VisId = 0;\n        const tabCollaborator = [this.collaborator1];\n        const tabProject = [this.project1];\n        for (const i in Object(this.visTimelineItems)._data) {\n            if (Object(this.visTimelineItems)._data.hasOwnProperty(i)) {\n                if (String(Object(this.visTimelineItems)._data[i].NameProject).valueOf() === String(tabProject[0].nameProject).valueOf()) {\n                    if (\n                        String(Object(this.visTimelineItems)._data[i].NameCollaborator).valueOf() ===\n                        String(tabCollaborator[0].nomCollaborator + ' ' + tabCollaborator[0].prenomCollaborator).valueOf()\n                    ) {\n                        id = Object(this.visTimelineItems)._data[i].id;\n                        const newVisTimelineItems: VisTimelineItems = this.visTimelineItems.getByIds([id]) as any;\n                        this.visTimelineService.setItems(this.visTimeline, newVisTimelineItems);\n                    }\n                }\n            }\n        }\n        if (id === 0) {\n            if (String(this.vue3s.language).valueOf() === String('fr').valueOf()) {\n                swal({\n                    title: \"Affichage d'affectation\",\n                    text: \"Cette affectation n'existe pas dans la timeline !\",\n                    icon: 'warning',\n                    confirmButtonClass: 'btn-outline-info',\n                    dangerMode: true,\n                    closeOnClickOutside: false,\n                    showCloseButton: true\n                } as any);\n            } else {\n                swal({\n                    title: 'Display of affectation',\n                    text: \"This affectation doesn't exist in the timeline !\",\n                    icon: 'warning',\n                    confirmButtonClass: 'btn-outline-info',\n                    dangerMode: true,\n                    closeOnClickOutside: false,\n                    showCloseButton: true\n                } as any);\n            }\n        }\n        this.iditem = null;\n    }\n\n    public DisplayAllAffectations() {\n        for (const i in Object(this.visTimelineGroups)._data) {\n            if (\n                !Object(this.visTimelineGroups)._data[i].visible &&\n                String(Object(this.visTimelineGroups)._data[i].NameCollaborator).valueOf() !== String('Total').valueOf()\n            ) {\n                Object(this.visTimelineGroups)._data[i].visible = true;\n            }\n        }\n        this.visTimelineService.setData(this.visTimeline, { groups: this.visTimelineGroups, items: this.visTimelineItems });\n        this.iditem = null;\n    }\n\n    public ActualizeTimeline() {\n        if (this.mementos[this.lastIteration].length === this.mementos[this.iterationHistory].length) {\n            for (let i = 0; i < this.mementos[this.iterationHistory].length; i++) {\n                this.affectationservice.update(this.mementos[this.iterationHistory][i]).subscribe((res: any) => {\n                    this.ViewWithCollaborators(true);\n                });\n            }\n        } else if (this.mementos[this.lastIteration].length < this.mementos[this.iterationHistory].length) {\n            this.affectationservice\n                .update(this.ActualIdAffectation(this.mementos[this.iterationHistory], this.mementos[this.lastIteration])[1])\n                .subscribe((res: any) => {\n                    for (let i = 0; i < this.mementos[this.iterationHistory].length; i++) {\n                        if (\n                            this.mementos[this.iterationHistory][i].id ===\n                            this.ActualIdAffectation(this.mementos[this.iterationHistory], this.mementos[this.lastIteration])[0]\n                        ) {\n                            this.mementos[this.iterationHistory][i] = res.body;\n                        }\n                    }\n                    this.ViewWithCollaborators(true);\n                });\n        } else {\n            this.affectationservice\n                .delete(this.ActualIdAffectation(this.mementos[this.lastIteration], this.mementos[this.iterationHistory])[0])\n                .subscribe((res: any) => {\n                    this.ViewWithCollaborators(true);\n                });\n        }\n    }\n\n    public ActualIdAffectation(BigTable: any[], SmallTable: any[]) {\n        let param: Boolean;\n        for (let i = 0; i < BigTable.length; i++) {\n            param = false;\n            let j = 0;\n            while (j < SmallTable.length && !param) {\n                if (BigTable[i].id === SmallTable[j].id) {\n                    param = true;\n                }\n                j = j + 1;\n            }\n            if (!param && j === SmallTable.length) {\n                return [BigTable[i].id, BigTable[i]];\n            }\n        }\n    }\n\n    public OutHistory() {\n        if (this.iterationHistory <= 0) {\n            this.OutUndoHistory = true;\n            this.OutRedoHistory = false;\n        }\n        if (this.iterationHistory >= this.mementos.length - 1) {\n            this.OutRedoHistory = true;\n            this.OutUndoHistory = false;\n        }\n    }\n\n    public UndoTimeline() {\n        this.iditem = null;\n        if (this.iterationHistory <= 0) {\n            return;\n        } else {\n            this.lastIteration = this.iterationHistory;\n            this.iterationHistory = this.iterationHistory - 1;\n            this.OutHistory();\n        }\n        this.ActualizeTimeline();\n    }\n\n    public RedoTimeline() {\n        this.iditem = null;\n        if (this.iterationHistory >= this.mementos.length - 1) {\n            return;\n        } else {\n            this.lastIteration = this.iterationHistory;\n            this.iterationHistory = this.iterationHistory + 1;\n            this.OutHistory();\n        }\n        this.ActualizeTimeline();\n    }\n\n    public saveMemento() {\n        if (this.iterationHistory < this.mementos.length - 1) {\n            this.mementos.splice(this.iterationHistory + 1, this.mementos.length - this.iterationHistory);\n            this.OutRedoHistory = true;\n        }\n        this.affectationservice.query().subscribe((res: any) => {\n            let storeobj: any[];\n            storeobj = res.body;\n            if (this.mementos.length >= 2) {\n                this.RefreshTableHistory();\n                this.mementos[1] = res.body;\n            } else {\n                this.mementos.push(storeobj);\n                this.iterationHistory = this.iterationHistory + 1;\n            }\n            if (this.iterationHistory >= 1) {\n                this.OutUndoHistory = false;\n            }\n        });\n    }\n\n    public RefreshTableHistory() {\n        for (let i = 0; i < this.mementos.length - 1; i++) {\n            this.mementos[i] = this.mementos[i + 1];\n        }\n    }\n\n    public getCollaborators(): FormArray {\n        return this.userFormCollab.get('AddCollaboratorList') as FormArray;\n    }\n\n    public getProjects(): FormArray {\n        return this.userFormProject.get('AddProjectList') as FormArray;\n    }\n\n    public getAffectations(): FormArray {\n        return this.userFormAffect.get('AddAffectationList') as FormArray;\n    }\n\n    public AddCollaborators() {\n        const newCollaboratorControl = this.formBuilder.control(null, Validators.required);\n        this.getCollaborators().push(newCollaboratorControl);\n    }\n\n    public AddProjects() {\n        const newProjectControl = this.formBuilder.control(null, Validators.required);\n        this.getProjects().push(newProjectControl);\n    }\n\n    public displayInterval() {\n        this.visTimelineService.setWindow(this.visTimeline, this.dateDebutItem, this.dateFinItem);\n    }\n\n    private getDismissReason(reason: any): String {\n        if (reason === ModalDismissReasons.ESC) {\n            return 'by pressing ESC';\n        } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n            return 'by clicking on a backdrop';\n        } else {\n            return `with: ${reason}`;\n        }\n    }\n\n    public changeInputsAffectations() {\n        this.affectationChange.project.id = this.projectSelected.id;\n        this.updateDeadlineToServer(this.affectationChange);\n    }\n\n    public AddTotalToList(list: any[]) {\n        let j = 2;\n        for (let i = 0; i < list.length; i++) {\n            list.splice(i + 1, 0, { id: j, content: 'Total' });\n            i = i + 1;\n            j = j + 2;\n        }\n        for (let i = 0; i < list.length; i++) {\n            list[i].id = i + 1;\n        }\n        return list;\n    }\n\n    public verifyLogin(): Boolean {\n        return String(this.settingsAccountlogin).valueOf() === String('admin').valueOf();\n    }\n\n    public traductionTitle() {\n        const titleEn1: String = 'Display collaborator(s)';\n        const titleFr1: String = 'Afficher un(des) collaborator(s)';\n        const titleEn2: String = 'Display project(s)';\n        const titleFr2: String = 'Afficher un(des) projet(s)';\n        const titleEn3: String = 'Display affectation';\n        const titleFr3: String = 'Afficher une affectation';\n        const titleEn4: String = 'Display all affectations';\n        const titleFr4: String = 'Afficher toutes les affectation';\n        const titleEn5: String = 'Center the timeline';\n        const titleFr5: String = 'Centrer la timeline';\n        const titleEn6: String = 'Adjust the timeline';\n        const titleFr6: String = 'Ajuster la timeline';\n        const titleEn7: String = \"Adjust the timeline on time's interval\";\n        const titleFr7: String = 'Ajuster la timeline sur un intervalle de temps';\n        const titleEn8: String = 'Click to go back';\n        const titleFr8: String = 'Cliquer pour revenir en arrière';\n        const titleEn9: String = 'Click to advance';\n        const titleFr9: String = 'Cliquer pour avancer';\n        if (String(this.vue3s.language).valueOf() === String('fr').valueOf()) {\n             return [titleFr1, titleFr2, titleFr3, titleFr4, titleFr5, titleFr6, titleFr7, titleFr8, titleFr9];\n        } else {\n            return [titleEn1, titleEn2, titleEn3, titleEn4, titleEn5, titleEn6, titleEn7, titleEn8, titleEn9];\n        }\n    }\n\n    public ngOnDestroy() {\n        this.CollaboratordoubleClickSubscription.unsubscribe();\n        this.CollaboratorclickSubscription.unsubscribe();\n        this.CollaboratorchangedSubscription.unsubscribe();\n        this.CollaboratoritemoverSubscription.unsubscribe();\n    }\n}\n"]}]}